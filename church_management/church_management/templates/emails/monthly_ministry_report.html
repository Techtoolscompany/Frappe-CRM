{% extends "templates/web.html" %}

{% block title %}Monthly Ministry Report{% endblock %}

{% block page_content %}
<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
    <h2 style="color: #1a1a1a;">Monthly Ministry Report</h2>
    <p style="color: #666;">Month: {{ month }}</p>

    <div style="margin: 20px 0; background-color: #f8f9fa; padding: 20px; border-radius: 5px;">
        <h3 style="color: #2c5282; margin-bottom: 15px;">Ministry Statistics</h3>
        
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
            <div style="background-color: white; padding: 15px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                <h4 style="color: #4a5568; margin: 0;">Services Held</h4>
                <p style="font-size: 24px; font-weight: bold; color: #2c5282; margin: 10px 0;">{{ stats.services }}</p>
            </div>
            
            <div style="background-color: white; padding: 15px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                <h4 style="color: #4a5568; margin: 0;">Special Events</h4>
                <p style="font-size: 24px; font-weight: bold; color: #2c5282; margin: 10px 0;">{{ stats.events }}</p>
            </div>
            
            <div style="background-color: white; padding: 15px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                <h4 style="color: #4a5568; margin: 0;">New Members</h4>
                <p style="font-size: 24px; font-weight: bold; color: #2c5282; margin: 10px 0;">{{ stats.new_members }}</p>
            </div>
            
            <div style="background-color: white; padding: 15px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                <h4 style="color: #4a5568; margin: 0;">Active Small Groups</h4>
                <p style="font-size: 24px; font-weight: bold; color: #2c5282; margin: 10px 0;">{{ stats.active_groups }}</p>
            </div>
        </div>
    </div>

    <div style="margin: 20px 0;">
        <h3 style="color: #2c5282;">Pastoral Care</h3>
        <div style="background-color: white; padding: 15px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <p style="margin: 0;">
                <span style="font-weight: bold;">Pastoral Visits Completed:</span>
                <span style="color: #2c5282;">{{ stats.pastoral_visits }}</span>
            </p>
        </div>
    </div>

    <div style="margin: 20px 0;">
        <h3 style="color: #2c5282;">Growth Analysis</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr style="background-color: #f8f9fa;">
                <th style="padding: 10px; text-align: left; border: 1px solid #e2e8f0;">Metric</th>
                <th style="padding: 10px; text-align: right; border: 1px solid #e2e8f0;">Count</th>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #e2e8f0;">New Members</td>
                <td style="padding: 10px; text-align: right; border: 1px solid #e2e8f0;">{{ stats.new_members }}</td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #e2e8f0;">Services Held</td>
                <td style="padding: 10px; text-align: right; border: 1px solid #e2e8f0;">{{ stats.services }}</td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #e2e8f0;">Special Events</td>
                <td style="padding: 10px; text-align: right; border: 1px solid #e2e8f0;">{{ stats.events }}</td>
            </tr>
        </table>
    </div>

    <div style="margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 5px;">
        <h3 style="color: #2c5282; margin-top: 0;">Key Highlights</h3>
        <ul style="margin: 0; padding-left: 20px;">
            {% if stats.new_members > 0 %}
            <li style="margin-bottom: 10px;">Welcomed {{ stats.new_members }} new members to our church family</li>
            {% endif %}
            
            {% if stats.active_groups > 0 %}
            <li style="margin-bottom: 10px;">Maintaining {{ stats.active_groups }} active small groups</li>
            {% endif %}
            
            {% if stats.pastoral_visits > 0 %}
            <li style="margin-bottom: 10px;">Completed {{ stats.pastoral_visits }} pastoral care visits</li>
            {% endif %}
        </ul>
    </div>

    <div style="margin-top: 30px; font-size: 12px; color: #666; text-align: center;">
        <p style="margin: 5px 0;">This is an automated report generated by the Church Management System.</p>
        <p style="margin: 5px 0;">For any questions or clarifications, please contact the church office.</p>
    </div>
</div>
{% endblock %}
